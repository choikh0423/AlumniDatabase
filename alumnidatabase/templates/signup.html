{% extends "base_generic.html" %}

{% block intro %}
  <h1 id='login-title'> Register to the Alumni Database </h1>

  <form id="signup_form" method="post" action="{% url 'signup' %}" novalidate>
    {% csrf_token %}
    <div id="signup_container1">
      <div id="signup_content1">
        <div id='signup_label'>
          {{ form.firstname.label_tag }}
        </div>
        <div id='signup_input'>
          {{ form.firstname }}
        </div>
        <div id='signup_error'>
          {% for errors in form.firstname.errors %}
            <p>{{ errors }}</p>
          {% endfor %}
        </div>
      </div>

      <div id="signup_content1">
        <div id='signup_label'>
          {{ form.lastname.label_tag }}
        </div>
        <div id='signup_input'>
          {{ form.lastname }}
        </div>
        <div id='signup_error'>
          {% for errors in lastname.errors %}
            <p>{{ errors }}</p>
          {% endfor %}
        </div>
      </div>
    </div>

    <div id="signup_container2">
    {% for field in form %}
      {% if field.name != "firstname" and field.name != "lastname" %}
      <div id="signup_content2">
        <div id='signup_label'>
          {{ field.label_tag}}
        </div>
        <div id='signup_input'>
          {{ field }}
        </div>
        <div id='signup_error'>
          {% for errors in field.errors %}
            <p>{{ errors }}</p>
          {% endfor %}
        </div>
        <div id='signup_help'>
          <p>{{ field.help_text}}</p>
        </div>
      </div>
      {% endif %}
    {% endfor %}
      <div id='signup_content2'>
        <div if="signup_label">
          {{ profile_form.joined_year.label_tag }}
        </div>
        <div id='signup_input'>
          {{ profile_form.joined_year }}
        </div>
      </div>
    </div>
    <button type="submit">Register</button>
  </form>

{% comment %} validation need fix {% endcomment %}
<div id='form_validation'>
    {% if form.errors %}
      <p>Please check if the information you have provided are valid.</p>
    {% else %}
      {% if next %}
        {% if user.is_authenticated %}
          <p>You are already registered in the site.</p>
        {% else %}
          <p>Please login to see this page.</p>
        {% endif %}
      {% endif %}
    {% endif %}
  </div>

{% endblock %}